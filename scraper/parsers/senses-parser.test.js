const sensesParser = require('./senses-parser');

it('parse senses from aapoph serpentfolk', () => {
  const input = `<a target="_blank" href="Images\Monsters\Serpentfolk_AapophSerpentfolk.png"><img class="thumbnail" src="Images\Monsters\Serpentfolk_AapophSerpentfolk.png"></a><span alt="Uncommon Trait" class="traituncommon" title="Something of uncommon rarity requires special training or comes from a particular culture or part of the world. Some character choices give access to uncommon options, and the GM can choose to allow access for anyone. Less is known about uncommon creatures than common creatures. They typically can't be summoned. The DC of Recall Knowledge checks related to these creature is increased by 2."><a href="Traits.aspx?ID=159">Uncommon</a></span><span alt="Chaotic Evil" class="traitalignment" title="Chaotic Evil">CE</span><span alt="Medium" class="traitsize" title="Medium">Medium</span><span alt="Humanoid Trait" class="trait" title="Humanoid creatures reason and act much like humans. They typically stand upright and have two arms and two legs."><a href="Traits.aspx?ID=91">Humanoid</a></span><span alt="Mutant Trait" class="trait" title="The monster has mutated or evolved, granting it unusual benefits, drawbacks, or both."><a href="Traits.aspx?ID=229">Mutant</a></span><span alt="Serpentfolk Trait" class="trait" title="Serpentfolk are a family of serpentine humanoids."><a href="Traits.aspx?ID=307">Serpentfolk</a></span><br /><b>Source</b> <a href="https://paizo.com/products/btq022yq" target="_blank" class="external-link"><i>Bestiary 2 pg. 238</i></a><br /><b>Perception</b> +8; <a style="text-decoration:underline" href="MonsterAbilities.aspx?ID=12">darkvision</a>, <a style="text-decoration:underline" href="MonsterAbilities.aspx?ID=33">scent (imprecise) 30 feet</a><br /><b>Languages</b> <a href="Languages.aspx?ID=13"><u>Aklo</a></u>, <a href="Languages.aspx?ID=11"><u>Undercommon</a></u>; <a style="text-decoration:underline" href="MonsterAbilities.aspx?ID=37">telepathy 100 feet</a><br /><b>Skills</b> <a href="Skills.aspx?ID=1"><u>Acrobatics</a></u> +7, <a href="Skills.aspx?ID=3"><u>Athletics</a></u> +11, <a href="Skills.aspx?ID=7"><u>Intimidation</a></u> +6<br /><b>Str</b> +4, <b>Dex</b> +2, <b>Con</b> +3, <b>Int</b> -3, <b>Wis</b> +1, <b>Cha</b> -1<br /><b>Items</b> <a href="Weapons.aspx?ID=38"><u>scimitar</u></a>`;
  const fields = sensesParser(input);

  expect(fields.senses).toEqual(['darkvision', 'scent (imprecise) 30 feet']);
});